{
    "sourceFile": "docs.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 8,
            "patches": [
                {
                    "date": 1757088590437,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1757088603166,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,10 +83,9 @@\n         \".json\": \"Documents\",\n         \".sh\": \"Documents\",\n         \".md\": \"Documents\",\n         \".txt\": \"Documents\",\n-   \n-        \".py\": \"Documents\",\n+         \".py\": \"Documents\",\n         \".xml\": \"Documents\",\n     }\n \n     for directory in directories:\n"
                },
                {
                    "date": 1757088610606,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,9 +84,9 @@\n         \".sh\": \"Documents\",\n         \".md\": \"Documents\",\n         \".txt\": \"Documents\",\n          \".py\": \"Documents\",\n-        \".xml\": \"Documents\",\n+        \n     }\n \n     for directory in directories:\n         for root, dirs, files in os.walk(directory):\n"
                },
                {
                    "date": 1757088628653,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,17 +76,17 @@\n \n     file_types = {\n         \".pdf\": \"Documents\",\n         \".csv\": \"Documents\",\n+        \".csv\": \"Documents\",\n         \".html\": \"Documents\",\n         \".css\": \"Documents\",\n         \".js\": \"Documents\",\n         \".json\": \"Documents\",\n         \".sh\": \"Documents\",\n         \".md\": \"Documents\",\n         \".txt\": \"Documents\",\n-         \".py\": \"Documents\",\n-        \n+        \".py\": \"Documents\",\n     }\n \n     for directory in directories:\n         for root, dirs, files in os.walk(directory):\n"
                },
                {
                    "date": 1757089272695,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,19 +2,16 @@\n import os\n import re\n from datetime import datetime\n \n-import config  # Import the configuration\n-\n # Constants\n LAST_DIRECTORY_FILE = \"docs.txt\"\n \n-# Function to get the creation date of a file\n-\n-\n def get_creation_date(filepath):\n+    \"\"\"Get the creation date of a file.\"\"\"\n     try:\n-        return datetime.fromtimestamp(os.path.getctime(filepath)).strftime(\"%m-%d-%y\")\n+        timestamp = os.path.getctime(filepath)\n+        return datetime.fromtimestamp(timestamp).strftime(\"%m-%d-%y\")\n     except Exception as e:\n         print(f\"Error getting creation date for {filepath}: {e}\")\n         return \"Unknown\"\n \n@@ -76,9 +73,9 @@\n \n     file_types = {\n         \".pdf\": \"Documents\",\n         \".csv\": \"Documents\",\n-        \".csv\": \"Documents\",\n+        \".css\": \"Documents\",\n         \".html\": \"Documents\",\n         \".css\": \"Documents\",\n         \".js\": \"Documents\",\n         \".json\": \"Documents\",\n"
                },
                {
                    "date": 1757089279075,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,26 @@\n     except Exception as e:\n         print(f\"Error getting creation date for {filepath}: {e}\")\n         return \"Unknown\"\n \n+def format_file_size(size_in_bytes):\n+    \"\"\"Format file size into a human-readable string.\"\"\"\n+    try:\n+        thresholds = [\n+            (1024**4, \"TB\"),\n+            (1024**3, \"GB\"),\n+            (1024**2, \"MB\"),\n+            (1024**1, \"KB\"),\n+            (1024**0, \"B\"),\n+        ]\n+        for factor, suffix in thresholds:\n+            if size_in_bytes >= factor:\n+                return f\"{size_in_bytes / factor:.2f} {suffix}\"\n+    except Exception as e:\n+        print(f\"Error formatting file size: {e}\")\n+    return \"Unknown\"\n \n+def generate_dry_run_csv(directories, csv_path):\n # Function to format file size\n \n \n def format_file_size(size_in_bytes):\n"
                },
                {
                    "date": 1757089284666,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,8 +32,15 @@\n         print(f\"Error formatting file size: {e}\")\n     return \"Unknown\"\n \n def generate_dry_run_csv(directories, csv_path):\n+    \"\"\"Generate a dry run CSV for organizing document files.\"\"\"\n+    rows = []\n+    excluded_patterns = [\n+        r\"^\\..*\", r\".*\\/venv\\/.*\", r\".*\\/\\.venv\\/.*\", r\".*\\/lib\\/.*\",\n+        r\".*\\/\\.lib\\/.*\", r\".*\\/my_global_venv\\/.*\", r\".*\\/simplegallery\\/.*\",\n+        r\".*\\/avatararts\\/.*\", r\".*\\/github\\/.*\", r\".*\\/Documents\\/gitHub\\/.*\",\n+        r\".*\\/Documents\\/aGPT\\/.*\", r\".*\\/\\.my_global_venv\\/.*\", r\".*\\/node\\/.*\",\n # Function to format file size\n \n \n def format_file_size(size_in_bytes):\n"
                },
                {
                    "date": 1757089301240,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,124 +39,50 @@\n         r\"^\\..*\", r\".*\\/venv\\/.*\", r\".*\\/\\.venv\\/.*\", r\".*\\/lib\\/.*\",\n         r\".*\\/\\.lib\\/.*\", r\".*\\/my_global_venv\\/.*\", r\".*\\/simplegallery\\/.*\",\n         r\".*\\/avatararts\\/.*\", r\".*\\/github\\/.*\", r\".*\\/Documents\\/gitHub\\/.*\",\n         r\".*\\/Documents\\/aGPT\\/.*\", r\".*\\/\\.my_global_venv\\/.*\", r\".*\\/node\\/.*\",\n-# Function to format file size\n-\n-\n-def format_file_size(size_in_bytes):\n-    try:\n-        if size_in_bytes < 1024:\n-            return f\"{size_in_bytes:.2f} B\"\n-        size_in_bytes /= 1024\n-        if size_in_bytes < 1024:\n-            return f\"{size_in_bytes:.2f} KB\"\n-        size_in_bytes /= 1024\n-        if size_in_bytes < 1024:\n-            return f\"{size_in_bytes:.2f} MB\"\n-        size_in_bytes /= 1024\n-        if size_in_bytes < 1024:\n-            return f\"{size_in_bytes:.2f} GB\"\n-        size_in_bytes /= 1024\n-        return f\"{size_in_bytes:.2f} TB\"\n-    except Exception as e:\n-        print(f\"Error formatting file size: {e}\")\n-        return \"Unknown\"\n-\n-\n-# Function to generate a dry run CSV for organizing document files\n-\n-\n-def generate_dry_run_csv(directories, csv_path):\n-    rows = []\n-\n-    # Regex patterns for exclusions\n-    excluded_patterns = [\n-        r\"^\\..*\",  # Hidden files and directories\n-        r\".*\\/venv\\/.*\",  # venv directories\n-        r\".*\\/\\.venv\\/.*\",  # .venv directories\n-        r\".*\\/lib\\/.*\",  # venv directories\n-        r\".*\\/\\.lib\\/.*\",  # .venv directories\n-        r\".*\\/my_global_venv\\/.*\",  # venv directories\n-        r\".*\\/simplegallery\\/.*\",\n-        r\".*\\/avatararts\\/.*\",\n-        r\".*\\/github\\/.*\",\n-        r\".*\\/Documents\\/gitHub\\/.*\",  # Specific gitHub directory\n-        r\".*\\/Documents\\/aGPT\\/.*\",  # Specific gitHub directory\n-        r\".*\\/\\.my_global_venv\\/.*\",  # .venv directories\n-        r\".*\\/node\\/.*\",  # Any directory named node\n-        r\".*\\/miniconda3\\/.*\",\n-        r\".*\\/env\\/.*\",  # env directories\n-        r\".*\\/\\.env\\/.*\",  # .env directories\n-        r\".*\\/Library\\/.*\",  # Library directories\n-        r\".*\\/\\.config\\/.*\",  # .config directories\n-        r\".*\\/\\.spicetify\\/.*\",  # .spicetify directories\n-        r\".*\\/\\.gem\\/.*\",  # .gem directories\n-        r\".*\\/\\.zprofile\\/.*\",  # .zprofile directories\n-        r\"^.*\\/\\..*\",  # Any file or directory starting with a dot\n+        r\".*\\/miniconda3\\/.*\", r\".*\\/env\\/.*\", r\".*\\/\\.env\\/.*\", r\".*\\/Library\\/.*\",\n+        r\".*\\/\\.config\\/.*\", r\".*\\/\\.spicetify\\/.*\", r\".*\\/\\.gem\\/.*\",\n+        r\".*\\/\\.zprofile\\/.*\", r\"^.*\\/\\..*\"\n     ]\n-\n     file_types = {\n-        \".pdf\": \"Documents\",\n-        \".csv\": \"Documents\",\n-        \".css\": \"Documents\",\n-        \".html\": \"Documents\",\n-        \".css\": \"Documents\",\n-        \".js\": \"Documents\",\n-        \".json\": \"Documents\",\n-        \".sh\": \"Documents\",\n-        \".md\": \"Documents\",\n-        \".txt\": \"Documents\",\n-        \".py\": \"Documents\",\n+        \".pdf\": \"Documents\", \".csv\": \"Documents\", \".css\": \"Documents\",\n+        \".html\": \"Documents\", \".js\": \"Documents\", \".json\": \"Documents\",\n+        \".sh\": \"Documents\", \".md\": \"Documents\", \".txt\": \"Documents\",\n+        \".py\": \"Documents\"\n     }\n \n     for directory in directories:\n         for root, dirs, files in os.walk(directory):\n-            # Skip hidden directories and system directories using regex\n-            dirs[:] = [\n-                d\n-                for d in dirs\n-                if not any(\n-                    re.match(pattern, os.path.join(root, d))\n-                    for pattern in excluded_patterns\n-                )\n-            ]\n-\n+            dirs[:] = [d for d in dirs if not any(re.match(pattern, os.path.join(root, d)) for pattern in excluded_patterns)]\n             for file in files:\n                 file_path = os.path.join(root, file)\n-\n-                # Skip files that match the excluded patterns\n                 if any(re.match(pattern, file_path) for pattern in excluded_patterns):\n                     continue\n-\n                 file_ext = os.path.splitext(file)[1].lower()\n-\n-                # Add file to rows if it matches the logical file types\n                 if file_ext in file_types:\n                     file_size = format_file_size(os.path.getsize(file_path))\n                     creation_date = get_creation_date(file_path)\n                     rows.append([file, file_size, creation_date, root])\n \n     write_csv(csv_path, rows)\n \n-\n def write_csv(csv_path, rows):\n+    \"\"\"Write rows to a CSV file.\"\"\"\n     with open(csv_path, \"w\", newline=\"\") as csvfile:\n         fieldnames = [\"Filename\", \"File Size\", \"Creation Date\", \"Original Path\"]\n         writer = csv.DictWriter(csvfile, fieldnames=fieldnames)\n         writer.writeheader()\n         for row in rows:\n-            writer.writerow(\n-                {\n-                    \"Filename\": row[0],\n-                    \"File Size\": row[1],\n-                    \"Creation Date\": row[2],\n-                    \"Original Path\": row[3],\n-                }\n-            )\n+            writer.writerow({\n+                \"Filename\": row[0],\n+                \"File Size\": row[1],\n+                \"Creation Date\": row[2],\n+                \"Original Path\": row[3],\n+            })\n \n-\n def get_unique_file_path(base_path):\n+    \"\"\"Generate a unique file path by appending a counter if the path exists.\"\"\"\n     if not os.path.exists(base_path):\n         return base_path\n \n     base, ext = os.path.splitext(base_path)\n"
                },
                {
                    "date": 1757089308903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,38 +92,33 @@\n         if not os.path.exists(new_path):\n             return new_path\n         counter += 1\n \n-\n def save_last_directory(directory):\n+    \"\"\"Save the last used directory to a file.\"\"\"\n     with open(LAST_DIRECTORY_FILE, \"w\") as file:\n         file.write(directory)\n \n-\n def load_last_directory():\n+    \"\"\"Load the last used directory from a file.\"\"\"\n     if os.path.exists(LAST_DIRECTORY_FILE):\n         with open(LAST_DIRECTORY_FILE, \"r\") as file:\n             return file.read().strip()\n     return None\n \n-\n if __name__ == \"__main__\":\n     directories = []\n     last_directory = load_last_directory()\n \n     while True:\n         if last_directory:\n-            use_last = (\n-                input(\n-                    f\"Do you want to use the last directory '{last_directory}'? (Y/N): \"\n-                )\n-                .strip()\n-                .lower()\n-            )\n+            use_last = input(f\"Do you want to use the last directory '{last_directory}'? (Y/N): \").strip().lower()\n             if use_last == \"y\":\n                 directories.append(last_directory)\n                 break\n             else:\n+                source_directory = input(\"Please enter a new source directory to scan for document files: \").strip()\n+        else:\n                 source_directory = input(\n                     \"Please enter a new source directory to scan for document files: \"\n                 ).strip()\n         else:\n"
                }
            ],
            "date": 1757088590437,
            "name": "Commit-0",
            "content": "import csv\nimport os\nimport re\nfrom datetime import datetime\n\nimport config  # Import the configuration\n\n# Constants\nLAST_DIRECTORY_FILE = \"docs.txt\"\n\n# Function to get the creation date of a file\n\n\ndef get_creation_date(filepath):\n    try:\n        return datetime.fromtimestamp(os.path.getctime(filepath)).strftime(\"%m-%d-%y\")\n    except Exception as e:\n        print(f\"Error getting creation date for {filepath}: {e}\")\n        return \"Unknown\"\n\n\n# Function to format file size\n\n\ndef format_file_size(size_in_bytes):\n    try:\n        if size_in_bytes < 1024:\n            return f\"{size_in_bytes:.2f} B\"\n        size_in_bytes /= 1024\n        if size_in_bytes < 1024:\n            return f\"{size_in_bytes:.2f} KB\"\n        size_in_bytes /= 1024\n        if size_in_bytes < 1024:\n            return f\"{size_in_bytes:.2f} MB\"\n        size_in_bytes /= 1024\n        if size_in_bytes < 1024:\n            return f\"{size_in_bytes:.2f} GB\"\n        size_in_bytes /= 1024\n        return f\"{size_in_bytes:.2f} TB\"\n    except Exception as e:\n        print(f\"Error formatting file size: {e}\")\n        return \"Unknown\"\n\n\n# Function to generate a dry run CSV for organizing document files\n\n\ndef generate_dry_run_csv(directories, csv_path):\n    rows = []\n\n    # Regex patterns for exclusions\n    excluded_patterns = [\n        r\"^\\..*\",  # Hidden files and directories\n        r\".*\\/venv\\/.*\",  # venv directories\n        r\".*\\/\\.venv\\/.*\",  # .venv directories\n        r\".*\\/lib\\/.*\",  # venv directories\n        r\".*\\/\\.lib\\/.*\",  # .venv directories\n        r\".*\\/my_global_venv\\/.*\",  # venv directories\n        r\".*\\/simplegallery\\/.*\",\n        r\".*\\/avatararts\\/.*\",\n        r\".*\\/github\\/.*\",\n        r\".*\\/Documents\\/gitHub\\/.*\",  # Specific gitHub directory\n        r\".*\\/Documents\\/aGPT\\/.*\",  # Specific gitHub directory\n        r\".*\\/\\.my_global_venv\\/.*\",  # .venv directories\n        r\".*\\/node\\/.*\",  # Any directory named node\n        r\".*\\/miniconda3\\/.*\",\n        r\".*\\/env\\/.*\",  # env directories\n        r\".*\\/\\.env\\/.*\",  # .env directories\n        r\".*\\/Library\\/.*\",  # Library directories\n        r\".*\\/\\.config\\/.*\",  # .config directories\n        r\".*\\/\\.spicetify\\/.*\",  # .spicetify directories\n        r\".*\\/\\.gem\\/.*\",  # .gem directories\n        r\".*\\/\\.zprofile\\/.*\",  # .zprofile directories\n        r\"^.*\\/\\..*\",  # Any file or directory starting with a dot\n    ]\n\n    file_types = {\n        \".pdf\": \"Documents\",\n        \".csv\": \"Documents\",\n        \".html\": \"Documents\",\n        \".css\": \"Documents\",\n        \".js\": \"Documents\",\n        \".json\": \"Documents\",\n        \".sh\": \"Documents\",\n        \".md\": \"Documents\",\n        \".txt\": \"Documents\",\n   \n        \".py\": \"Documents\",\n        \".xml\": \"Documents\",\n    }\n\n    for directory in directories:\n        for root, dirs, files in os.walk(directory):\n            # Skip hidden directories and system directories using regex\n            dirs[:] = [\n                d\n                for d in dirs\n                if not any(\n                    re.match(pattern, os.path.join(root, d))\n                    for pattern in excluded_patterns\n                )\n            ]\n\n            for file in files:\n                file_path = os.path.join(root, file)\n\n                # Skip files that match the excluded patterns\n                if any(re.match(pattern, file_path) for pattern in excluded_patterns):\n                    continue\n\n                file_ext = os.path.splitext(file)[1].lower()\n\n                # Add file to rows if it matches the logical file types\n                if file_ext in file_types:\n                    file_size = format_file_size(os.path.getsize(file_path))\n                    creation_date = get_creation_date(file_path)\n                    rows.append([file, file_size, creation_date, root])\n\n    write_csv(csv_path, rows)\n\n\ndef write_csv(csv_path, rows):\n    with open(csv_path, \"w\", newline=\"\") as csvfile:\n        fieldnames = [\"Filename\", \"File Size\", \"Creation Date\", \"Original Path\"]\n        writer = csv.DictWriter(csvfile, fieldnames=fieldnames)\n        writer.writeheader()\n        for row in rows:\n            writer.writerow(\n                {\n                    \"Filename\": row[0],\n                    \"File Size\": row[1],\n                    \"Creation Date\": row[2],\n                    \"Original Path\": row[3],\n                }\n            )\n\n\ndef get_unique_file_path(base_path):\n    if not os.path.exists(base_path):\n        return base_path\n\n    base, ext = os.path.splitext(base_path)\n    counter = 1\n    while True:\n        new_path = f\"{base}_{counter}{ext}\"\n        if not os.path.exists(new_path):\n            return new_path\n        counter += 1\n\n\ndef save_last_directory(directory):\n    with open(LAST_DIRECTORY_FILE, \"w\") as file:\n        file.write(directory)\n\n\ndef load_last_directory():\n    if os.path.exists(LAST_DIRECTORY_FILE):\n        with open(LAST_DIRECTORY_FILE, \"r\") as file:\n            return file.read().strip()\n    return None\n\n\nif __name__ == \"__main__\":\n    directories = []\n    last_directory = load_last_directory()\n\n    while True:\n        if last_directory:\n            use_last = (\n                input(\n                    f\"Do you want to use the last directory '{last_directory}'? (Y/N): \"\n                )\n                .strip()\n                .lower()\n            )\n            if use_last == \"y\":\n                directories.append(last_directory)\n                break\n            else:\n                source_directory = input(\n                    \"Please enter a new source directory to scan for document files: \"\n                ).strip()\n        else:\n            source_directory = input(\n                \"Please enter a source directory to scan for document files: \"\n            ).strip()\n\n        if source_directory == \"\":\n            break\n        if os.path.isdir(source_directory):\n            directories.append(source_directory)\n            save_last_directory(source_directory)\n        else:\n            print(f\"'{source_directory}' is not a valid directory. Please try again.\")\n\n    if directories:\n        current_date = datetime.now().strftime(\"%m-%d-%H:%M\")\n        csv_output_path = os.path.join(os.getcwd(), f\"docs-{current_date}.csv\")\n        csv_output_path = get_unique_file_path(csv_output_path)\n\n        generate_dry_run_csv(directories, csv_output_path)\n        print(f\"Dry run completed. Output saved to {csv_output_path}\")\n    else:\n        print(\"No directories were provided to scan.\")\n"
        }
    ]
}