{
    "sourceFile": "other.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1757088463943,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1757088472359,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -108,13 +108,8 @@\n         \".pl\": \"Scripts\",\n         \".js\": \"Scripts\",\n         \".css\": \"Scripts\",\n         \".html\": \"Scripts\",\n-        \".mp3\": \"Audio\",\n-        \".wav\": \"Audio\",\n-        \".flac\": \"Audio\",\n-        \".aac\": \"Audio\",\n-        \".m4a\": \"Audio\",\n     }\n \n     for directory in directories:\n         for root, _, files in os.walk(directory):\n"
                },
                {
                    "date": 1757088970653,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,44 +72,9 @@\n         r\".*\\/\\.zprofile\\/.*\",  # .zprofile directories\n         r\"^.*\\/\\..*\",  # Any file or directory starting with a dot\n     ]\n     file_types = {\n-        \".ttf\": \"Fonts\",\n-        \".otf\": \"Fonts\",\n-        \".woff\": \"Fonts\",\n-        \".woff2\": \"Fonts\",\n-        \".eot\": \"Fonts\",\n-        \".srt\": \"Subtitles\",\n-        \".ass\": \"Subtitles\",\n-        \".vtt\": \"Subtitles\",\n-        \".ini\": \"Configuration\",\n-        \".cfg\": \"Configuration\",\n-        \".conf\": \"Configuration\",\n-        \".log\": \"Logs\",\n-        \".bak\": \"Backups\",\n-        \".tmp\": \"Temporary\",\n-        \".torrent\": \"Torrents\",\n-        \".zip\": \"Archives\",\n-        \".rar\": \"Archives\",\n-        \".7z\": \"Archives\",\n-        \".tar\": \"Archives\",\n-        \".gz\": \"Archives\",\n-        \".asl\": \"Design\",\n-        \".psd\": \"Design\",\n-        \".ai\": \"Design\",\n-        \".sketch\": \"Design\",\n-        \".fig\": \"Design\",\n-        \".blend\": \"3D Models\",\n-        \".fbx\": \"3D Models\",\n-        \".obj\": \"3D Models\",\n-        \".stl\": \"3D Models\",\n-        \".py\": \"Scripts\",\n-        \".sh\": \"Scripts\",\n-        \".rb\": \"Scripts\",\n-        \".pl\": \"Scripts\",\n-        \".js\": \"Scripts\",\n-        \".css\": \"Scripts\",\n-        \".html\": \"Scripts\",\n+        \n     }\n \n     for directory in directories:\n         for root, _, files in os.walk(directory):\n"
                },
                {
                    "date": 1757088982329,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,9 +72,24 @@\n         r\".*\\/\\.zprofile\\/.*\",  # .zprofile directories\n         r\"^.*\\/\\..*\",  # Any file or directory starting with a dot\n     ]\n     file_types = {\n-        \n+        \".ttf\": \"Fonts\",\n+        \".otf\": \"Fonts\",\n+        \".zip\": \"Archives\",\n+        \".rar\": \"Archives\",\n+        \".7z\": \"Archives\",\n+        \".tar\": \"Archives\",\n+        \".gz\": \"Archives\",\n+        \".doc\": \"Documents\",\n+        \".docx\": \"Documents\",\n+        \".ppt\": \"Documents\",\n+        \".pptx\": \"Documents\",\n+        \".xlsx\": \"Documents\",\n+        \".xml\": \"Documents\",\n+        \".flac\": \"Audio\",\n+        \".aac\": \"Audio\",\n+        \".bmp\": \"Image\",\n     }\n \n     for directory in directories:\n         for root, _, files in os.walk(directory):\n"
                },
                {
                    "date": 1757089085562,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,24 +2,35 @@\n import os\n import re\n from datetime import datetime\n \n-import config  # Import the configuration\n-\n # Constants\n LAST_DIRECTORY_FILE = \"other.txt\"\n \n-# Function to get the creation date of a file\n-\n-\n def get_creation_date(filepath):\n+    \"\"\"Get the creation date of a file.\"\"\"\n     try:\n-        return datetime.fromtimestamp(os.path.getctime(filepath)).strftime(\"%m-%d-%y\")\n+        timestamp = os.path.getctime(filepath)\n+        return datetime.fromtimestamp(timestamp).strftime(\"%m-%d-%y\")\n     except Exception as e:\n         print(f\"Error getting creation date for {filepath}: {e}\")\n         return \"Unknown\"\n \n+def format_file_size(size_in_bytes):\n+    \"\"\"Format file size into a human-readable string.\"\"\"\n+    try:\n+        for unit in ['B', 'KB', 'MB', 'GB', 'TB']:\n+            if size_in_bytes < 1024:\n+                return f\"{size_in_bytes:.2f} {unit}\"\n+            size_in_bytes /= 1024\n+    except Exception as e:\n+        print(f\"Error formatting file size: {e}\")\n+        return \"Unknown\"\n \n+def generate_dry_run_csv(directories, csv_path):\n+    \"\"\"Generate a dry run CSV for organizing common file types.\"\"\"\n+    rows = []\n+    excluded_patterns = [\n # Function to format file size\n \n \n def format_file_size(size_in_bytes):\n"
                },
                {
                    "date": 1757089094005,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,8 +40,9 @@\n     file_types = {\n         \".ttf\": \"Fonts\", \".otf\": \"Fonts\", \".zip\": \"Archives\", \".rar\": \"Archives\",\n         \".7z\": \"Archives\", \".tar\": \"Archives\", \".gz\": \"Archives\", \".doc\": \"Documents\",\n         \".docx\": \"Documents\", \".ppt\": \"Documents\", \".pptx\": \"Documents\",\n+        \".xlsx\": \"Documents\", \".xml\": \"Documents\", \".flac\": \"Audio\", \".aac\": \"Audio\",\n # Function to format file size\n \n \n def format_file_size(size_in_bytes):\n"
                }
            ],
            "date": 1757088463943,
            "name": "Commit-0",
            "content": "import csv\nimport os\nimport re\nfrom datetime import datetime\n\nimport config  # Import the configuration\n\n# Constants\nLAST_DIRECTORY_FILE = \"other.txt\"\n\n# Function to get the creation date of a file\n\n\ndef get_creation_date(filepath):\n    try:\n        return datetime.fromtimestamp(os.path.getctime(filepath)).strftime(\"%m-%d-%y\")\n    except Exception as e:\n        print(f\"Error getting creation date for {filepath}: {e}\")\n        return \"Unknown\"\n\n\n# Function to format file size\n\n\ndef format_file_size(size_in_bytes):\n    try:\n        if size_in_bytes < 1024:\n            return f\"{size_in_bytes:.2f} B\"\n        size_in_bytes /= 1024\n        if size_in_bytes < 1024:\n            return f\"{size_in_bytes:.2f} KB\"\n        size_in_bytes /= 1024\n        if size_in_bytes < 1024:\n            return f\"{size_in_bytes:.2f} MB\"\n        size_in_bytes /= 1024\n        if size_in_bytes < 1024:\n            return f\"{size_in_bytes:.2f} GB\"\n        size_in_bytes /= 1024\n        return f\"{size_in_bytes:.2f} TB\"\n    except Exception as e:\n        print(f\"Error formatting file size: {e}\")\n        return \"Unknown\"\n\n\n# Function to generate a dry run CSV for organizing other common file types\n\n\ndef generate_dry_run_csv(directories, csv_path):\n    rows = []\n\n    # Regex patterns for exclusions\n    excluded_patterns = [\n        r\"^\\..*\",  # Hidden files and directories\n        r\".*\\/venv\\/.*\",  # venv directories\n        r\".*\\/\\.venv\\/.*\",  # .venv directories\n        r\".*\\/my_global_venv\\/.*\",  # venv directories\n        r\".*\\/simplegallery\\/.*\",\n        r\".*\\/avatararts\\/.*\",\n        r\".*\\/github\\/.*\",\n        r\".*\\/Documents\\/gitHub\\/.*\",  # Specific gitHub directory\n        r\".*\\/\\.my_global_venv\\/.*\",  # .venv directories\n        r\".*\\/node\\/.*\",  # Any directory named node\n        r\".*\\/Movies\\/capcut\\/.*\",\n        r\".*\\/miniconda3\\/.*\",\n        r\".*\\/Movies\\/movavi\\/.*\",\n        r\".*\\/env\\/.*\",  # env directories\n        r\".*\\/\\.env\\/.*\",  # .env directories\n        r\".*\\/Library\\/.*\",  # Library directories\n        r\".*\\/\\.config\\/.*\",  # .config directories\n        r\".*\\/\\.spicetify\\/.*\",  # .spicetify directories\n        r\".*\\/\\.gem\\/.*\",  # .gem directories\n        r\".*\\/\\.zprofile\\/.*\",  # .zprofile directories\n        r\"^.*\\/\\..*\",  # Any file or directory starting with a dot\n    ]\n    file_types = {\n        \".ttf\": \"Fonts\",\n        \".otf\": \"Fonts\",\n        \".woff\": \"Fonts\",\n        \".woff2\": \"Fonts\",\n        \".eot\": \"Fonts\",\n        \".srt\": \"Subtitles\",\n        \".ass\": \"Subtitles\",\n        \".vtt\": \"Subtitles\",\n        \".ini\": \"Configuration\",\n        \".cfg\": \"Configuration\",\n        \".conf\": \"Configuration\",\n        \".log\": \"Logs\",\n        \".bak\": \"Backups\",\n        \".tmp\": \"Temporary\",\n        \".torrent\": \"Torrents\",\n        \".zip\": \"Archives\",\n        \".rar\": \"Archives\",\n        \".7z\": \"Archives\",\n        \".tar\": \"Archives\",\n        \".gz\": \"Archives\",\n        \".asl\": \"Design\",\n        \".psd\": \"Design\",\n        \".ai\": \"Design\",\n        \".sketch\": \"Design\",\n        \".fig\": \"Design\",\n        \".blend\": \"3D Models\",\n        \".fbx\": \"3D Models\",\n        \".obj\": \"3D Models\",\n        \".stl\": \"3D Models\",\n        \".py\": \"Scripts\",\n        \".sh\": \"Scripts\",\n        \".rb\": \"Scripts\",\n        \".pl\": \"Scripts\",\n        \".js\": \"Scripts\",\n        \".css\": \"Scripts\",\n        \".html\": \"Scripts\",\n        \".mp3\": \"Audio\",\n        \".wav\": \"Audio\",\n        \".flac\": \"Audio\",\n        \".aac\": \"Audio\",\n        \".m4a\": \"Audio\",\n    }\n\n    for directory in directories:\n        for root, _, files in os.walk(directory):\n            # Skip hidden directories and venv directories using regex\n            dirs = [d for d in os.listdir(root) if os.path.isdir(os.path.join(root, d))]\n            dirs[:] = [\n                d\n                for d in dirs\n                if not any(\n                    re.match(pattern, os.path.join(root, d))\n                    for pattern in excluded_patterns\n                )\n            ]\n\n            for file in files:\n                file_path = os.path.join(root, file)\n\n                # Skip files that match the excluded patterns\n                if any(re.match(pattern, file_path) for pattern in excluded_patterns):\n                    continue\n\n                file_ext = os.path.splitext(file)[1].lower()\n\n                # Add file to rows if it matches the logical file types\n                if file_ext in file_types:\n                    file_size = format_file_size(os.path.getsize(file_path))\n                    creation_date = get_creation_date(file_path)\n                    rows.append([file, file_size, creation_date, root])\n\n    write_csv(csv_path, rows)\n\n\n# Function to write rows to CSV\n\n\ndef write_csv(csv_path, rows):\n    with open(csv_path, \"w\", newline=\"\") as csvfile:\n        fieldnames = [\"Filename\", \"File Size\", \"Creation Date\", \"Original Path\"]\n        writer = csv.DictWriter(csvfile, fieldnames=fieldnames)\n        writer.writeheader()\n        for row in rows:\n            writer.writerow(\n                {\n                    \"Filename\": row[0],\n                    \"File Size\": row[1],\n                    \"Creation Date\": row[2],\n                    \"Original Path\": row[3],\n                }\n            )\n\n\ndef get_unique_file_path(base_path):\n    if not os.path.exists(base_path):\n        return base_path\n\n    base, ext = os.path.splitext(base_path)\n    counter = 1\n    while True:\n        new_path = f\"{base}_{counter}{ext}\"\n        if not os.path.exists(new_path):\n            return new_path\n        counter += 1\n\n\ndef save_last_directory(directory):\n    with open(LAST_DIRECTORY_FILE, \"w\") as file:\n        file.write(directory)\n\n\ndef load_last_directory():\n    if os.path.exists(LAST_DIRECTORY_FILE):\n        with open(LAST_DIRECTORY_FILE, \"r\") as file:\n            return file.read().strip()\n    return None\n\n\nif __name__ == \"__main__\":\n    directories = []\n    last_directory = load_last_directory()\n\n    while True:\n        if last_directory:\n            use_last = (\n                input(\n                    f\"Do you want to use the last directory '{last_directory}'? (Y/N): \"\n                )\n                .strip()\n                .lower()\n            )\n            if use_last == \"y\":\n                directories.append(last_directory)\n                break\n            else:\n                source_directory = input(\n                    \"Please enter a new source directory to scan for other common file types: \"\n                ).strip()\n        else:\n            source_directory = input(\n                \"Please enter a source directory to scan for other common file types: \"\n            ).strip()\n\n        if source_directory == \"\":\n            break\n        if os.path.isdir(source_directory):\n            directories.append(source_directory)\n            save_last_directory(source_directory)\n        else:\n            print(f\"'{source_directory}' is not a valid directory. Please try again.\")\n\n    if directories:\n        current_date = datetime.now().strftime(\"%m-%d-%H:%M\")\n        csv_output_path = os.path.join(os.getcwd(), f\"other-{current_date}.csv\")\n        csv_output_path = get_unique_file_path(csv_output_path)\n\n        generate_dry_run_csv(directories, csv_output_path)\n        print(f\"Dry run completed. Output saved to {csv_output_path}\")\n        print(f\"other_files-{current_date}.csv\")\n    else:\n        print(\"No directories were provided to scan.\")\n"
        }
    ]
}